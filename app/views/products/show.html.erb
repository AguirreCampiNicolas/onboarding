<div class="hidden lg:block">
  <%= render 'shared/navbar' %>
</div>

<div class="lg:px-23 lg:pt-32">
  <p class="hidden md:block text-text-tiny-lg text-planit-grey-1"><%= @product.type %> > <%= @product.category.name %></p>
  <div class="flex flex-col lg:flex-row gap-4">
    <!-- Parte Izquierda -->
    <div class="lg:w-2/3">
      <%= image_tag @product.image_url, alt: 'Imagen', class: 'w-full h-96 object-cover mb-4' %>
      <div class="hidden lg:block" name="lg-description-container">
        <p class="text-h5-lg">Descripción</p>
        <p class="text-lg"><%= @product.description %></p>
      </div>
    </div>

    <!-- Parte Derecha -->
    <div class="lg:w-1/3 px-7">
      <p class="text-h2-sm lg:text-h5-lg lg:mb-2"><%= @product.user.name.upcase %></p>
      <p class="text-h1-sm lg:text-h4-lg text-gradient lg:mb-2"><%= @product.name %></p>

      <div class="flex items-center my-6">
        <%= image_tag 'icons/Estrella.svg', alt: 'Rate', class: 'w-5 pl-2' %>
        <span class="ml-2 text-h4-sm lg:text-small-text-lg text-gradient"><%= @product.rate %></span>
        <button class="ml-4 text-h5-sm lg:text-tiny-text-lg text-planit-dark-blue">Ver calificaciones</button>
      </div>

      <%= form_with(url: new_order_path, method: :get, local: true, data: { controller: "quantity" }) do %>
        <div class="flex items-center hidden lg:block">
          <%= hidden_field_tag :quantity, 1, data: { quantity_target: "hiddenField" } %>
          <button type="button" class="px-2 border border-planit-grey-1 rounded-l-sm" data-action="quantity#decrement">-</button>
          <input type="text" id="quantity" class="px-5 py-0 border border-x-0 border-planit-grey-1 w-16 text-center" value="1" data-quantity-target="quantityField" readonly />
          <button type="button" class="px-2 border border-planit-grey-1 rounded-r-sm" data-action="quantity#increment">+</button>
        </div>

        <div class="mb-8 mt-16 hidden lg:block">
          <h4 class="text-h6-lg mb-2">Personalizar pedido</h4>
          <% @product.personalizations.each do |personalization| %>
            <div class="flex items-center justify-between mb-2">
              <div class="flex items-center">
                <label class="custom-checkbox mr-14">
                  <%= check_box_tag "personalization_ids[]", personalization.id, false %>
                  <span class="checkmark"></span>
                </label>
                <span><%= personalization.name %></span>
              </div>
              <span class="text-gray-500">+<%= number_to_currency(personalization.price) %></span>
            </div>
          <% end %>
        </div>

        <p class="hidden lg:block text-small-text-light-lg text-planit-gray-5˙">¿Necesitas más personalización?</p>
        <a href="#" class="hidden lg:block text-small-text-light-lg  text-gradient">Hablar con un ejecutivo</a>

        <div class="flex justify-between items-center mb-8 mt-16">
          <span class="text-h5-lg">TOTAL</span>
          <span class="text-h5-lg"> $100 <span class="text-h6-lg">+ IVA</span></span>
        </div>

        <%= hidden_field_tag :product_id, @product.id %>
        <button type="submit" class="w-full py-2 bg-planit-blue-gradient text-white rounded-lg mb-2">COMPRAR</button>
      <% end %>
      <a href="#" class="block text-center text-gradient text-small-text-light-lg">Imprimir presupuesto</a>
    </div>
  </div>
</div>
